


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->

<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Unit Test Guide &mdash; DI-engine 0.1.0 documentation</title>
  

  <link rel="shortcut icon" href="../_static/images/favicon.ico" />
  
  

  

  
  
  

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!-- <link rel="stylesheet" href="../_static/pygments.css" type="text/css" /> -->
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/style.css" type="text/css" />
  <link rel="index" title="Index" href="../genindex.html" />
  <link rel="search" title="Search" href="../search.html" />
  <link rel="next" title="Diagrams and Visualization" href="../23_visual/index.html" />
  <link rel="prev" title="Code Style Guide" href="../21_code_style/index.html" />
    <link href="../_static/css/style.css" rel="stylesheet" type="text/css">


  
  <script src="../_static/js/modernizr.min.js"></script>
  <script>
    MathJax = {
        chtml: {
            scale: 1,
            minScale: 1,
        },
        svg: {
            scale: 1,
            minScale: 1,
        }
    }
</script>

  <!-- Preload the theme fonts -->

<link rel="preload" href="../_static/fonts/FreightSans/freight-sans-book.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="../_static/fonts/FreightSans/freight-sans-medium.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="../_static/fonts/IBMPlexMono/IBMPlexMono-Medium.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="../_static/fonts/FreightSans/freight-sans-bold.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="../_static/fonts/FreightSans/freight-sans-medium-italic.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="../_static/fonts/IBMPlexMono/IBMPlexMono-SemiBold.woff2" as="font" type="font/woff2" crossorigin="anonymous">

<!-- Preload the katex fonts -->

<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Math-Italic.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Main-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Main-Bold.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size1-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size4-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size2-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size3-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Caligraphic-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"
    integrity="sha384-vSIIfh2YWi9wW0r9iZe7RJPrKwp6bG+s9QZMoITbCckVJqGCCRhc+ccxNcdpHuYu" crossorigin="anonymous">
</head>

<div class="container-fluid header-holder tutorials-header" id="header-holder">
  <div class="container">
    <div class="header-container">
      <a class="header-logo" href="https://di-engine-docs.readthedocs.io/en/latest/"
        aria-label="OpenMMLab"></a>

      <div class="main-menu">
        <ul>
          <li>
            <a href="https://github.com/opendilab/DI-engine" target="_blank">GitHub</a>
          </li>
          <li >
            <div id="resourcesDropdownButton" data-toggle="resources-dropdown" class="resources-dropdown">
              <a
                class="resource-option with-down-arrow">
                OpenDILab
              </a>
              <div class="resources-dropdown-menu">
                <a class="doc-dropdown-option nav-dropdown-item"
                  href="https://github.com/opendilab/DI-engine" target="_blank">
                  <span class="dropdown-title">DI-engine </span>
                  <p>OpenDILab Decision AI Engine</p>
                </a>
                <a class="doc-dropdown-option nav-dropdown-item"
                  href="https://github.com/opendilab/DI-star" target="_blank">
                  <span class="dropdown-title">DI-star </span>
                  <p>OpenDILab Decision AI in StarCraftII</p>
                </a>
                <a class="doc-dropdown-option nav-dropdown-item"
                  href="https://github.com/opendilab/DI-drive" target="_blank">
                  <span class="dropdown-title">DI-drive </span>
                  <p>OpenDILab Auto-driving platform</p>
                </a>
                <a class="doc-dropdown-option nav-dropdown-item"
                  href="https://github.com/opendilab/GoBigger" target="_blank">
                  <span class="dropdown-title">GoBigger </span>
                  <p>OpenDILab Multi-Agent Environment</p>
                </a>
                <a class="doc-dropdown-option nav-dropdown-item"
                  href="https://github.com/opendilab/DI-smartcross" target="_blank">
                  <span class="dropdown-title">DI-smartcross </span>
                  <p>Decision Intelligence Platform for Traffic Crossing Signal Control</p>
                </a>
                <a class="doc-dropdown-option nav-dropdown-item"
                  href="https://github.com/opendilab/DI-treetensor" target="_blank">
                  <span class="dropdown-title">DI-treetensor </span>
                  <p>Tree Nested PyTorch Tensor Lib</p>
                </a>
                <a class="doc-dropdown-option nav-dropdown-item"
                  href="https://github.com/opendilab/DI-sheep" target="_blank">
                  <span class="dropdown-title">DI-sheep </span>
                  <p>Deep Reinforcement Learning + 3 Tiles Game</p>
                </a>
                <a class="doc-dropdown-option nav-dropdown-item"
                  href="https://github.com/opendilab/awesome-model-based-RL" target="_blank">
                  <span class="dropdown-title">awesome-model-based-RL </span>
                  <p>A curated list of awesome model based RL resources (continually updated)</p>
                </a>
                <a class="doc-dropdown-option nav-dropdown-item"
                  href="https://github.com/opendilab/awesome-decision-transformer" target="_blank">
                  <span class="dropdown-title">awesome-decision-transformer </span>
                  <p>A curated list of Decision Transformer resources (continually updated)</p>
                </a>
                <a class="doc-dropdown-option nav-dropdown-item"
                  href="https://github.com/opendilab/awesome-exploration-rl" target="_blank">
                  <span class="dropdown-title">awesome-exploration-rl </span>
                  <p>A curated list of awesome exploration RL resources (continually updated)</p>
                </a>
                <a class="doc-dropdown-option nav-dropdown-item"
                  href="https://github.com/opendilab/awesome-multi-modal-reinforcement-learning" target="_blank">
                  <span class="dropdown-title">awesome-multi-modal-reinforcement-learning </span>
                  <p>A curated list of Multi-Modal Reinforcement Learning resources (continually updated)</p>
                </a>
              </div>
          </li>
        </ul>
      </div>

      <a class="main-menu-open-button" href="#" data-behavior="open-mobile-menu"></a>
    </div>
  </div>
</div>

<body class="pytorch-body">

   

  

  <div class="table-of-contents-link-wrapper">
    <span>Table of Contents</span>
    <a href="#" class="toggle-table-of-contents" data-behavior="toggle-table-of-contents"></a>
  </div>

  <nav data-toggle="wy-nav-shift" class="pytorch-left-menu" id="pytorch-left-menu">
    <div class="pytorch-side-scroll">
      <div class="pytorch-menu pytorch-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <div class="pytorch-left-menu-search">
          

          
          
          
          

          



<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search Docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        
        
        
        
        
        <p class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../00_intro/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../01_quickstart/index.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../02_algo/index.html">RL Algorithm Taxonomy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../03_system/index.html">System Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../04_best_practice/index.html">Best Practice</a></li>
<li class="toctree-l1"><a class="reference internal" href="../05_api_doc/index.html">API Doc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../06_faq/index.html">FAQ</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reinforcement Learning Tutorial</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../10_concepts/index.html">Introduction to RL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../11_dizoo/index.html">Learn From DI-zoo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../12_policies/index.html">RL Algorithms Cheat Sheet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../13_envs/index.html">RL Env Examples</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Specification</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../20_spec/index.html">Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../21_code_style/index.html">Code Style Guide</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Unit Test Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../23_visual/index.html">Diagrams and Visualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../24_cooperation/index.html">Github Cooperation</a></li>
</ul>

        
        
      </div>
    </div>
  </nav>

  <div class="pytorch-container">
    <div class="pytorch-page-level-bar" id="pytorch-page-level-bar">
      <div class="pytorch-breadcrumbs-wrapper">
        















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="pytorch-breadcrumbs">
    
      <li>
        <a href="../index.html">
            Docs
        </a> &gt;
      </li>

        
      <li>Unit Test Guide</li>
    
    
      <li class="pytorch-breadcrumbs-aside">
        
            
            <a href="../_sources/22_test/index.rst.txt" rel="nofollow"><img src="../_static/images/view-page-source-icon.svg"></a>
          
        
      </li>
    
  </ul>

  
</div>
      </div>

      <div class="pytorch-shortcuts-wrapper" id="pytorch-shortcuts-wrapper">
        Shortcuts
      </div>
    </div>

    <section data-toggle="wy-nav-shift" id="pytorch-content-wrap" class="pytorch-content-wrap">
      <div class="pytorch-content-left">
        
          <div class="rst-content">
            
            <div role="main" class="main-content" itemscope="itemscope" itemtype="http://schema.org/Article">
              <article itemprop="articleBody" id="pytorch-article" class="pytorch-article">
                
  <section id="unit-test-guide">
<h1>Unit Test Guide<a class="headerlink" href="#unit-test-guide" title="Permalink to this headline">¶</a></h1>
<section id="significance-of-unit-testing">
<h2>Significance of Unit Testing<a class="headerlink" href="#significance-of-unit-testing" title="Permalink to this headline">¶</a></h2>
<p>In the field of software engineering, unit testing is a testing method. Through this method, each unit of the source code set of one or more computer program modules and related control data, use programs and operation programs are tested to determine whether they can operate correctly (from <a class="reference external" href="https://en.wikipedia.org/wiki/Unit_testing">Wikipedia - Unit testing</a>).</p>
<p>In actual development, the significance of unit testing is as follows:</p>
<ul class="simple">
<li><p>When the code is updated, you can run unit tests to ensure that regression errors do not occur.</p></li>
<li><p>Through fine-grained unit test design, you can quickly and accurately locate the source of errors during unit test.</p></li>
<li><p>Combining unit testing with code coverage ensures that all code and branches have been tested.</p></li>
<li><p>After finding bugs, you can add test cases that can reproduce bugs to unit tests to continuously improve the perfection of code functions.</p></li>
<li><p>Another important point – <strong>for a module, reading unit test code is also a very efficient way to understand its function and usage</strong>.</p></li>
</ul>
</section>
<section id="types-of-unit-test">
<span id="ref-test-types"></span><h2>Types of Unit Test<a class="headerlink" href="#types-of-unit-test" title="Permalink to this headline">¶</a></h2>
<p>In the DI-engine project, we divide the unit test into the following parts:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">unittest</span></code> – functional unit test in a general sense to ensure the normal function of engineering code and the convergence of algorithm code on simple use cases.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">algotest</span></code> – unit test for algorithm code to ensure that the algorithm code can meet the use requirements on specific use cases.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cudatest</span></code> – unit test for CUDA dependent features, ensure that such features function normally in the operating environment with CUDA.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">envpooltest</span></code> – unit test for features that rely on envpool high-performance parallel computing to ensure that such features function normally.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">platformtest</span></code> – unit test of cross platform code, ensure that the core functions of DI-engine can still operate normally on MacOS and Windows platforms.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">benchmark</span></code> – performance test of algorithm or architecture, speed measurement is mainly carried out for relevant contents to ensure that its performance meets the requirements.</p></li>
</ul>
</section>
<section id="how-to-build-unit-test">
<h2>How to Build Unit Test<a class="headerlink" href="#how-to-build-unit-test" title="Permalink to this headline">¶</a></h2>
<p>In DI-engine, we use <a class="reference external" href="https://docs.pytest.org/">pytest</a> to build unit tests.</p>
<p>For unit test writing, you can refer to the <code class="docutils literal notranslate"><span class="pre">tests</span></code> folder under the code path at all levels as a whole, such as <a class="reference external" href="https://github.com/opendilab/DI-engine/tree/main/ding/envs/env_manager/tests">ding/envs/env_manager/tests</a>.</p>
<section id="naming-conventions">
<h3>Naming Conventions<a class="headerlink" href="#naming-conventions" title="Permalink to this headline">¶</a></h3>
<p>For unit testing, we generally build it in the unit of class or function, and its name should meet certain specifications, specifically:</p>
<ul class="simple">
<li><p>For the unit test of function form, the function name is required to be started with <code class="docutils literal notranslate"><span class="pre">test_</span></code>.</p></li>
<li><p>For the unit test of class form, the class name is required to be started with <code class="docutils literal notranslate"><span class="pre">Test</span></code>, and names of all methods used for testing should start with <code class="docutils literal notranslate"><span class="pre">test_</span></code>.</p></li>
</ul>
</section>
<section id="assertions">
<h3>Assertions<a class="headerlink" href="#assertions" title="Permalink to this headline">¶</a></h3>
<p>In the test cases, we use <code class="docutils literal notranslate"><span class="pre">assert</span></code> (assertion) to check the prototype results. If the assertion is not true, very detailed information will be displayed, as shown in the following figure</p>
<a class="reference internal image-reference" href="../_images/pytest_assert.png"><img alt="../_images/pytest_assert.png" class="align-center" src="../_images/pytest_assert.png" style="width: 787.6px; height: 502.70000000000005px;" /></a>
<p>In addition, `` pytest`` also supports assertion of thrown exceptions, as shown below</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pytest</span>

<span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">unittest</span>
<span class="k">def</span> <span class="nf">test_zero_division</span><span class="p">():</span>
    <span class="k">with</span> <span class="n">pytest</span><span class="o">.</span><span class="n">raises</span><span class="p">(</span><span class="ne">ZeroDivisionError</span><span class="p">):</span>
        <span class="mi">1</span> <span class="o">/</span> <span class="mi">0</span>
</pre></div>
</div>
<p>In addition, for the test of real numbers, due to the storage principle of real numbers, it may lead to misjudgment caused by subtle errors. Therefore, the approximate function <code class="docutils literal notranslate"><span class="pre">approx</span></code> can be used for approximate judgment. It supports numeric type, <code class="docutils literal notranslate"><span class="pre">list</span></code> type, <code class="docutils literal notranslate"><span class="pre">dict</span></code> type and <code class="docutils literal notranslate"><span class="pre">numpy</span></code> type (<code class="docutils literal notranslate"><span class="pre">numpy.</span> <span class="pre">Ndarray</span></code>).</p>
<a class="reference internal image-reference" href="../_images/pytest_approx.png"><img alt="../_images/pytest_approx.png" class="align-center" src="../_images/pytest_approx.png" style="width: 599.5px; height: 176.0px;" /></a>
</section>
<section id="fixture-and-conftest">
<h3>Fixture and Conftest<a class="headerlink" href="#fixture-and-conftest" title="Permalink to this headline">¶</a></h3>
<p>Fixture is a very important mechanism in <code class="docutils literal notranslate"><span class="pre">pytest</span></code>. It can initialize the resources required for testing and pass them in as parameters of the test function for its usage. Not only that, but also the recovery of operation resources can be realized to ensure that the subsequent operation will not be affected. In addition, code reuse can be easily realized through the definition of scope.</p>
<p>This <a class="reference external" href="https://www.lambdatest.com/blog/end-to-end-tutorial-for-pytest-fixtures-with-examples/">fixture tutorial</a> is written in great detail and can be used as a reference. In the existing code of DI-engine, you can refer to <a class="reference external" href="https://github.com/opendilab/DI-engine/tree/main/ding/league/tests/test_player.py">ding/league/tests/test_player.py</a>.</p>
<p>Fixture is generally used in a single file, that is, it is used after defining fixture under the current file. If you need to use fixture across files, you can use the <code class="docutils literal notranslate"><span class="pre">conftest</span></code> (abbreviation of <code class="docutils literal notranslate"><span class="pre">config</span> <span class="pre">of</span> <span class="pre">test</span></code>) mechanism. There is no need to explicitly import in the test file, and the <code class="docutils literal notranslate"><span class="pre">pytest</span></code> framework will automatically complete the loading. You can refer to this <a class="reference external" href="https://www.lambdatest.com/blog/end-to-end-tutorial-for-pytest-fixtures-with-examples/#Sharingpytest">tutorial</a>, and in the existing code, you can refer to <a class="reference external" href="https://github.com/opendilab/DI-engine/tree/main/ding/league/tests/conftest.py">ding/league/tests/conftest.py</a>.</p>
</section>
<section id="test-mark">
<h3>Test Mark<a class="headerlink" href="#test-mark" title="Permalink to this headline">¶</a></h3>
<p>In order to distinguish the types of tests (for example, ref:<cite>ref-test-types</cite>), you can add <code class="docutils literal notranslate"><span class="pre">pytest.mark(&quot;MARK-NAME&quot;)</span></code> decorator to let the test be executed by category, and use <code class="docutils literal notranslate"><span class="pre">pytest</span> <span class="pre">–m</span> <span class="pre">MARK-NAME</span></code> to execute the selected type of test at run time.</p>
<a class="reference internal image-reference" href="../_images/pytest_mark.png"><img alt="../_images/pytest_mark.png" class="align-center" src="../_images/pytest_mark.png" style="width: 684.2px; height: 594.0px;" /></a>
</section>
<section id="parameterized">
<h3>Parameterized<a class="headerlink" href="#parameterized" title="Permalink to this headline">¶</a></h3>
<p>In some cases, we need to reuse the same test logic and test for different input data. At this point, we can use parameter configuration <code class="docutils literal notranslate"><span class="pre">&#64;pytest.mark.paramtrize(argsnames,</span> <span class="pre">argsvalues,</span> <span class="pre">ids=None)</span></code> realize parameter configuration for multiple groups of tests. Of which:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">argsnames</span></code>
: means parameter name, with type of <code class="docutils literal notranslate"><span class="pre">str</span></code>. If you need to express multiple parameter names, use commas to separate them.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">argsvalues</span></code>
: means parameter value, with type if <code class="docutils literal notranslate"><span class="pre">list</span></code> which is composed of parameters. The elements in the list are the values assigned to the parameters. If multiple parameters are set in <code class="docutils literal notranslate"><span class="pre">argsnames</span></code>, the <code class="docutils literal notranslate"><span class="pre">tuple</span></code> type will be used, and the values will correspond to the names one by one in order.</p></li>
</ul>
<p>For example:</p>
<ul class="simple">
<li><p>If using decorator <code class="docutils literal notranslate"><span class="pre">&#64;pytest.mark.paramtrize('data',</span> <span class="pre">[1,</span> <span class="pre">2,</span> <span class="pre">3])</span></code>, then the `` data`` variable will be assigned to 1, 2 and 3 respectively for test.</p></li>
<li><p>If using decorator <code class="docutils literal notranslate"><span class="pre">&#64;pytest.mark.paramtrize('var1,</span> <span class="pre">var2',</span> <span class="pre">[(1,</span> <span class="pre">2),</span> <span class="pre">(2,</span> <span class="pre">3),</span> <span class="pre">(3,</span> <span class="pre">4)])</span></code>, the <code class="docutils literal notranslate"><span class="pre">(var1,</span> <span class="pre">var2)</span></code> variables will be assigned <code class="docutils literal notranslate"><span class="pre">(1,</span> <span class="pre">2)</span></code>, <code class="docutils literal notranslate"><span class="pre">(2,</span> <span class="pre">3)</span></code>, <code class="docutils literal notranslate"><span class="pre">(3,</span> <span class="pre">4)</span></code> test.</p></li>
</ul>
<p>You can refer to the writing method in <a class="reference external" href="https://github.com/opendilab/DI-engine/tree/main/ding/utils/data/tests/test_dataloader.py">ding/utils/data/tests/test_dataloader.py</a>.</p>
</section>
</section>
<section id="how-do-run-unit-test">
<h2>How do Run Unit Test<a class="headerlink" href="#how-do-run-unit-test" title="Permalink to this headline">¶</a></h2>
<p>In DI-engine, we use <code class="docutils literal notranslate"><span class="pre">pytest</span></code> to start unit tests. For very simple cases, you can use the command directly:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>pytest -sv ./ding
</pre></div>
</div>
<p>When you need to know the unit test coverage and specific coverage distribution, you need to use the following commands:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>pytest -sv ./ding -m unittest --cov-report term-missing --cov<span class="o">=</span>./ding
</pre></div>
</div>
<p>The meanings of each parameter are as follows:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">-m</span></code> ： Select the type of marks to test.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-s</span></code> ： The output content is not captured, which is the abbreviation of <code class="docutils literal notranslate"><span class="pre">--capture=no</span></code> option.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-v</span></code> ： Select the complexity level of the output content. The currently selected is a lower complexity level. If you need to output more detailed information, you can use <code class="docutils literal notranslate"><span class="pre">-vv</span></code> to increase the complexity, and so on.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--cov-report</span> <span class="pre">term-missing</span></code> ： Select to display the coverage report in the form of <code class="docutils literal notranslate"><span class="pre">term-missing</span></code>, which refers to “display the specific areas not covered”.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--cov</span></code> ： Select the code area to be overwritten.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A more recommended method is to use the encapsulated script in the <code class="docutils literal notranslate"><span class="pre">Makefile</span></code> for quick startup, for example:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>make unittest  <span class="c1"># Full unit testing</span>
make unittest <span class="nv">RANGR_DIR</span><span class="o">=</span>./ding/xxx  <span class="c1"># Test for specific sub modules</span>
make algotest
make cudatest
make envpooltest
make platformtext
</pre></div>
</div>
</div>
</section>
</section>


              </article>
              
            </div>
            <footer>
  
  <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
    
    <a href="../23_visual/index.html" class="btn btn-neutral float-right" title="Diagrams and Visualization" accesskey="n"
      rel="next">Next <img src="../_static/images/chevron-right-blue.svg"
        class="next-page"></a>
    
    
    <a href="../21_code_style/index.html" class="btn btn-neutral" title="Code Style Guide" accesskey="p"
      rel="prev"><img src="../_static/images/chevron-right-blue.svg" class="previous-page"> Previous</a>
    
  </div>
  

  <hr>

  <div role="contentinfo">
    <p>
      &copy; Copyright 2021, OpenDILab Contributors.

    </p>
  </div>
  
  <div>
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a
      href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the
      Docs</a>.
  </div>
   

</footer>
          </div>
        </div>

        <div class="pytorch-content-right" id="pytorch-content-right">
          <div class="pytorch-right-menu" id="pytorch-right-menu">
            <div class="pytorch-side-scroll" id="pytorch-side-scroll-right">
              <ul>
<li><a class="reference internal" href="#">Unit Test Guide</a><ul>
<li><a class="reference internal" href="#significance-of-unit-testing">Significance of Unit Testing</a></li>
<li><a class="reference internal" href="#types-of-unit-test">Types of Unit Test</a></li>
<li><a class="reference internal" href="#how-to-build-unit-test">How to Build Unit Test</a><ul>
<li><a class="reference internal" href="#naming-conventions">Naming Conventions</a></li>
<li><a class="reference internal" href="#assertions">Assertions</a></li>
<li><a class="reference internal" href="#fixture-and-conftest">Fixture and Conftest</a></li>
<li><a class="reference internal" href="#test-mark">Test Mark</a></li>
<li><a class="reference internal" href="#parameterized">Parameterized</a></li>
</ul>
</li>
<li><a class="reference internal" href="#how-do-run-unit-test">How do Run Unit Test</a></li>
</ul>
</li>
</ul>

            </div>
          </div>
        </div>
    </section>
  </div>

  


  

  
  <script type="text/javascript" id="documentation_options" data-url_root="../"
    src="../_static/documentation_options.js"></script>
  <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
  <script src="../_static/jquery.js"></script>
  <script src="../_static/underscore.js"></script>
  <script src="../_static/doctools.js"></script>
  

  

  <script type="text/javascript" src="../_static/js/vendor/popper.min.js"></script>
  <script type="text/javascript" src="../_static/js/vendor/bootstrap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/list.js/1.5.0/list.min.js"></script>
  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
    jQuery(function () {
      SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

  <!-- Begin Footer -->

  <div class="container-fluid docs-tutorials-resources" id="docs-tutorials-resources">
  </div>

  <!-- End Footer -->

  <!-- Begin Mobile Menu -->

  <div class="mobile-main-menu">
    <div class="container-fluid">
      <div class="container">
        <div class="mobile-main-menu-header-container">
          <a class="header-logo" href="https://di-engine-docs.readthedocs.io/en/latest/" aria-label="OpenMMLab"></a>
          <a class="main-menu-close-button" href="#" data-behavior="close-mobile-menu"></a>
        </div>
      </div>
    </div>

    <div class="mobile-main-menu-links-container">
      <div class="main-menu">
        <ul>
          <li>
            <a href="https://github.com/opendilab/DI-engine" target="_blank">GitHub</a>
          </li>
      </div>
    </div>
  </div>

  <!-- End Mobile Menu -->

  <script type="text/javascript" src="../_static/js/vendor/anchor.min.js"></script>

  <script type="text/javascript">
    $(document).ready(function () {
      mobileMenu.bind();
      mobileTOC.bind();
      pytorchAnchors.bind();
      sideMenus.bind();
      scrollToAnchor.bind();
      highlightNavigation.bind();
      mainMenuDropdown.bind();
      filterTags.bind();

      // Add class to links that have code blocks, since we cannot create links in code blocks
      $("article.pytorch-article a span.pre").each(function (e) {
        $(this).closest("a").addClass("has-code");
      });
    })
  </script>
</body>

</html>